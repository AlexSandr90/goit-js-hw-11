{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43151566-329d1ba35c4912218880d8d24';\n\nexport const getImages = (searchValue = '') => {\n  if (searchValue.length === 0) {\n    return null;\n  }\n\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(searchValue)}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n      return null;\n    });\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const renderImages = imagesArr => {\n  if (imagesArr.length <= 0) {\n    iziToast.error({\n      position: 'topRight',\n      messageColor: '#ffffff',\n      timeout: 5000,\n      radius: 15,\n      backgroundColor: '#FF2E2E',\n      message:\n        'Sorry, there are no images matching your search query. Please, try again again!',\n    });\n    return '';\n  }\n\n  return imagesArr\n    .map(\n      ({\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        webformatURL,\n        largeImageURL,\n      }) => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\" >\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n          <ul class=\"stats-block\">\n            <li>\n              <span>Likes</span>\n              <span>${likes}</span>\n            </li>\n            <li>\n              <span>Views</span>\n              <span>${views}</span>\n            </li>\n            <li>\n              <span>Comments</span>\n              <span>${comments}</span>\n            </li>\n            <li>\n              <span>Downloads</span>\n              <span>${downloads}</span>\n            </li>\n          </ul>\n          </a>\n        </li>\n        `;\n      }\n    )\n    .join('');\n};\n\nexport const addedImages = (insertImagesArr, outputImagesArr) => {\n  if (insertImagesArr.length === 0) {\n    return;\n  }\n\n  insertImagesArr.forEach(imageDataItem => {\n    const {\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n      webformatURL,\n      largeImageURL,\n    } = imageDataItem;\n    console.log({ imageDataItem });\n    const imageObj = {\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n      webformatURL,\n      largeImageURL,\n    };\n    outputImagesArr.push(imageObj);\n  });\n};\n\nconst sliderOptions = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\n\nconst slider = new SimpleLightbox('ul.gallery a', sliderOptions);\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImages } from './js/pixabay-api';\nimport { renderImages, addedImages } from './js/render-functions';\n\nconst searchInput = document.querySelector('input[class=\"search-input\"]');\nconst form = document.querySelector('form[class=\"search\"]');\nconst imgBlock = document.querySelector('ul[class=\"gallery\"]');\nlet images = [];\n\nconst handleSubmit = async event => {\n  event.preventDefault();\n\n  const form = event.target;\n  const input = searchInput.value.trim();\n\n  try {\n    const imagesData = await getImages(input);\n    if (imagesData !== null) {\n      images = [];\n      imgBlock.textContent = '';\n      addedImages(imagesData.hits, images);\n      imgBlock.insertAdjacentHTML('beforeend', renderImages(images));\n    }\n  } catch (error) {\n    console.error('Error fetching images:', error);\n  }\n\n  form.reset();\n};\n\nform.addEventListener('submit', handleSubmit);\n"],"names":["BASE_URL","API_KEY","getImages","searchValue","response","error","renderImages","imagesArr","iziToast","tags","likes","views","comments","downloads","webformatURL","largeImageURL","addedImages","insertImagesArr","outputImagesArr","imageDataItem","imageObj","sliderOptions","SimpleLightbox","searchInput","form","imgBlock","images","handleSubmit","event","input","imagesData"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAEHC,EAAY,CAACC,EAAc,KAClCA,EAAY,SAAW,EAClB,KAGF,MACL,GAAGH,CAAQ,QAAQC,CAAO,MAAM,mBAAmBE,CAAW,CAAC,EAChE,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,IACL,QAAQ,IAAIA,CAAK,EACV,KACR,ECfQC,EAAeC,GACtBA,EAAU,QAAU,GACtBC,EAAS,MAAM,CACb,SAAU,WACV,aAAc,UACd,QAAS,IACT,OAAQ,GACR,gBAAiB,UACjB,QACE,iFACR,CAAK,EACM,IAGFD,EACJ,IACC,CAAC,CACC,KAAAE,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,aAAAC,EACA,cAAAC,CACR,IACe;AAAA,wCACyBA,CAAa;AAAA,4CACTD,CAAY,UAAUL,CAAI;AAAA;AAAA;AAAA;AAAA,sBAIhDC,CAAK;AAAA;AAAA;AAAA;AAAA,sBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAO1B,EACA,KAAK,EAAE,EAGCG,EAAc,CAACC,EAAiBC,IAAoB,CAC3DD,EAAgB,SAAW,GAI/BA,EAAgB,QAAQE,GAAiB,CACvC,KAAM,CACJ,KAAAV,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,aAAAC,EACA,cAAAC,CACD,EAAGI,EACJ,QAAQ,IAAI,CAAE,cAAAA,CAAa,CAAE,EAC7B,MAAMC,EAAW,CACf,KAAAX,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,aAAAC,EACA,cAAAC,CACN,EACIG,EAAgB,KAAKE,CAAQ,CACjC,CAAG,CACH,EAEMC,EAAgB,CACpB,aAAc,MACd,aAAc,GAChB,EAEe,IAAIC,EAAe,eAAgBD,CAAa,ECvF/D,MAAME,EAAc,SAAS,cAAc,6BAA6B,EAClEC,EAAO,SAAS,cAAc,sBAAsB,EACpDC,EAAW,SAAS,cAAc,qBAAqB,EAC7D,IAAIC,EAAS,CAAA,EAEb,MAAMC,EAAe,MAAMC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMJ,EAAOI,EAAM,OACbC,EAAQN,EAAY,MAAM,KAAI,EAEpC,GAAI,CACF,MAAMO,EAAa,MAAM5B,EAAU2B,CAAK,EACpCC,IAAe,OACjBJ,EAAS,CAAA,EACTD,EAAS,YAAc,GACvBT,EAAYc,EAAW,KAAMJ,CAAM,EACnCD,EAAS,mBAAmB,YAAanB,EAAaoB,CAAM,CAAC,EAEhE,OAAQrB,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CAC9C,CAEDmB,EAAK,MAAK,CACZ,EAEAA,EAAK,iBAAiB,SAAUG,CAAY"}