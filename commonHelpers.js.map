{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43151566-329d1ba35c4912218880d8d24';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json; charset=UTF-8',\n  },\n};\n\nexport const getImages = (searchValue = '') => {\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(searchValue)}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n      return null;\n    });\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImages } from './js/pixabay-api';\n\nconst searchInput = document.querySelector('input[class=\"search-input\"]');\nconst form = document.querySelector('form[class=\"search\"]');\nconst imgBlock = document.querySelector('ul[class=\"find--images-block\"]');\nconst images = [];\n\nconst renderImages = imagesArr => {\n  if (imagesArr.length <= 0) {\n    return;\n  }\n\n  return imagesArr\n    .map(({ tags, likes, views, comments, downloads, webformatURL }) => {\n      return `<li class=\"find--images-item\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        <ul class=\"stats-block\">\n          <li>\n            <span>Likes</span>\n            <span>${likes}</span>\n          </li>\n          <li>\n            <span>Views</span>\n            <span>${views}</span>\n          </li>\n          <li>\n            <span>Comments</span>\n            <span>${comments}</span>\n          </li>\n          <li>\n            <span>Downloads</span>\n            <span>${downloads}</span>\n          </li>\n        </ul>\n      </li>\n      `;\n    })\n    .join('');\n};\n\nconst handleSubmit = async event => {\n  event.preventDefault();\n  const form = event.target;\n  const input = searchInput.value.trim();\n\n  try {\n    const imagesData = await getImages(input);\n    console.log(imagesData.hits);\n    imagesData.hits.forEach(imageDataItem => {\n      const {\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        webformatURL,\n        largeImageURL,\n      } = imageDataItem;\n      const imageObj = {\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        webformatURL,\n        largeImageURL,\n      };\n      images.push(imageObj);\n    });\n  } catch (error) {\n    console.error('Error fetching images:', error);\n  }\n  imgBlock.insertAdjacentHTML('beforeend', renderImages(images));\n\n  console.log(images);\n  form.reset();\n};\n\nform.addEventListener('submit', handleSubmit);\n"],"names":["BASE_URL","API_KEY","getImages","searchValue","response","error","searchInput","form","imgBlock","images","renderImages","imagesArr","tags","likes","views","comments","downloads","webformatURL","handleSubmit","event","input","imagesData","imageDataItem","largeImageURL","imageObj"],"mappings":"0uBAAA,MAAMA,EAAW,2BACXC,EAAU,qCASHC,EAAY,CAACC,EAAc,KAC/B,MACL,GAAGH,CAAQ,QAAQC,CAAO,MAAM,mBAAmBE,CAAW,CAAC,EAChE,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,IACL,QAAQ,IAAIA,CAAK,EACV,KACR,ECnBCC,EAAc,SAAS,cAAc,6BAA6B,EAClEC,EAAO,SAAS,cAAc,sBAAsB,EACpDC,EAAW,SAAS,cAAc,gCAAgC,EAClEC,EAAS,CAAA,EAETC,EAAeC,GAAa,CAChC,GAAI,EAAAA,EAAU,QAAU,GAIxB,OAAOA,EACJ,IAAI,CAAC,CAAE,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,aAAAC,KACxC;AAAA,oBACOA,CAAY,UAAUL,CAAI;AAAA;AAAA;AAAA;AAAA,oBAI1BC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,OAKxB,EACA,KAAK,EAAE,CACZ,EAEME,EAAe,MAAMC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMZ,EAAOY,EAAM,OACbC,EAAQd,EAAY,MAAM,KAAI,EAEpC,GAAI,CACF,MAAMe,EAAa,MAAMnB,EAAUkB,CAAK,EACxC,QAAQ,IAAIC,EAAW,IAAI,EAC3BA,EAAW,KAAK,QAAQC,GAAiB,CACvC,KAAM,CACJ,KAAAV,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,aAAAC,EACA,cAAAM,CACD,EAAGD,EACEE,EAAW,CACf,KAAAZ,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,aAAAC,EACA,cAAAM,CACR,EACMd,EAAO,KAAKe,CAAQ,CAC1B,CAAK,CACF,OAAQnB,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CAC9C,CACDG,EAAS,mBAAmB,YAAaE,EAAaD,CAAM,CAAC,EAE7D,QAAQ,IAAIA,CAAM,EAClBF,EAAK,MAAK,CACZ,EAEAA,EAAK,iBAAiB,SAAUW,CAAY"}